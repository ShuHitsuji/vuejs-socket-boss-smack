(function(t){function e(e){for(var n,c,i=e[0],l=e[1],o=e[2],h=0,m=[];h<i.length;h++)c=i[h],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&m.push(r[c][0]),r[c]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(m.length)m.shift()();return s.push.apply(s,o||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,i=1;i<a.length;i++){var l=a[i];0!==r[l]&&(n=!1)}n&&(s.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},r={app:0},s=[];function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/<vuejs-socket-boss-smack>/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var o=0;o<i.length;o++)e(i[o]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("64a9"),r=a.n(n);r.a},"079c":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Combat")],1)},s=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen"},[a("section",{staticClass:"characters-selection"},[a("h1",{staticClass:"title"},[t._v("Bienvenidos al combate")]),a("h2",{staticClass:"subtitle"},[t._v("Elijan sus personajes")]),a("div",{staticClass:"characters-container"},[a("div",{staticClass:"character"},[a("Hero",{attrs:{instance:t.heroes[0]}})],1),a("div",{staticClass:"character"},[a("Hero",{attrs:{instance:t.heroes[1]}})],1),a("div",{staticClass:"character"},[a("Hero",{attrs:{instance:t.heroes[2]}})],1)])]),t._m(0)])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"footer"},[a("aside",{staticClass:"tutorial"},[t._v("i")]),a("main",{staticClass:"description"},[t._v("\n      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n    ")]),a("nav",{staticClass:"start"},[a("i",{staticClass:"arrow left"})])])}],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{class:{arrow:t.selected}}),a("img",{class:[t.heroClass],attrs:{alt:"character",src:t.publicPath+"/"+t.heroImage}})])},o=[],u={props:["instance","selected"],data:function(){return{publicPath:"/<vuejs-socket-boss-smack>/assets/characters"}},computed:{heroClass:function(){return this.instance.type.keyName},heroImage:function(){return this.instance.type.img}},components:{}},h=u,m=(a("75b6"),a("2877")),p=Object(m["a"])(h,l,o,!1,null,"23e5b9d4",null),f=p.exports,g=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),d=(a("7f7f"),a("d225"));function y(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?y(a,!0).forEach((function(e){Object(g["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):y(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var v={ranger:{name:"Ranger",img:"ranger.png",imgIdle:"ranger.png",imgHeal:"ranger-heal.png",imgAttack:"ranger-attack.png"},knight:{name:"Knight",img:"knight.png",imgIdle:"knight.png",imgHeal:"knight-heal.png",imgAttack:"ranger-attack.png"},mage:{name:"Mage",img:"mage.png",imgIdle:"mage.png",imgHeal:"mage-heal.png",imgAttack:"mage-attack.png"}},C=function t(e){var a=e.name,n=e.type,r=e.health,s=e.attack,c=e.mana;Object(d["a"])(this,t),this.name=a,this.type=b({keyName:n},v[n]),this.health={max:r,current:r},this.mana={max:c,current:c},this.attack=s},k=C,P=[new k({name:"Guille",type:"ranger",health:150,mana:60,attack:60}),new k({name:"Francho",type:"knight",health:200,mana:30,attack:35}),new k({name:"Axel",type:"mage",health:100,mana:100,attack:80})],O={name:"CharactersSelection",data:function(){return{heroes:P}},components:{Hero:f}},j=O,M=(a("8e82"),Object(m["a"])(j,c,i,!1,null,"6bbb7510",null)),_=M.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen"},[a("section",{staticClass:"combat-section"},[a("div",{staticClass:"players-area"},[a("div",{staticClass:"column left"},[a("div",{staticClass:"character"},[a("Hero",{attrs:{instance:t.players[0],selected:t.isSelected(0)}})],1)]),a("div",{staticClass:"column right"},[a("div",{staticClass:"character"},[a("Hero",{attrs:{instance:t.players[1],selected:t.isSelected(1)}})],1),a("div",{staticClass:"character"},[a("Hero",{attrs:{instance:t.players[2],selected:t.isSelected(2)}})],1)])]),a("div",{staticClass:"monster-area"},[a("div",{staticClass:"monster"},[a("Boss",{attrs:{instance:t.monsters[t.currentMonster]}})],1)])]),a("footer",{staticClass:"footer"},[a("aside",{staticClass:"actions-area"},[a("ButtonsPanel",{on:{attack:t.playerAttacks,heal:t.playerHeals,special:t.playerDoSomethingSpecial}})],1),a("main",{staticClass:"status-area"},[t._l(t.players,(function(t){return a("StatusBar",{key:t.name,attrs:{label:t.name,status:{health:t.health,mana:t.mana},colors:{health:"#8cdc07",mana:"#5a5adc"}}})})),a("StatusBar",{attrs:{label:t.monsters[t.currentMonster].name,status:{health:t.monsters[t.currentMonster].health},colors:{health:"red"}}})],2),a("div",{staticClass:"bard-area"},[a("p",[t._v(t._s(t.lastAction))]),a("p",[t._v(t._s(t.lastMonsterAction))])])])])},x=[],A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"character-column"},[a("label",{staticClass:"character"},[t._v(t._s(t.label))])]),a("div",{staticClass:"bars-column"},[a("Bar",{attrs:{color:t.colors.health,percentage:t.status.health.current/t.status.health.max*100}}),t.hasMana?a("Bar",{attrs:{color:t.colors.mana,percentage:t.getMana}}):t._e()],1),a("div",{staticClass:"status-column"},[a("label",{staticClass:"status"},[t._v(t._s(t.status.health.current)+"/"+t._s(t.status.health.max))])])])},S=[],B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bar",style:{background:t.color,width:t.percentage+"%"}})},E=[],H={name:"Bar",props:["percentage","color"]},$=H,D=(a("8af7"),Object(m["a"])($,B,E,!1,null,"12d23621",null)),T=D.exports,I={name:"StatusBar",props:["label","status","colors"],components:{Bar:T},computed:{hasMana:function(){return"undefined"!==typeof this.status.mana},getMana:function(){return this.status.mana?this.status.mana.current/this.status.mana.max*100:null}}},R=I,q=(a("f11d"),Object(m["a"])(R,A,S,!1,null,"ee9958ae",null)),W=q.exports;function N(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function F(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?N(a,!0).forEach((function(e){Object(g["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):N(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var J={wisp:{name:"Wisp",img:"wisp.png"},slime:{name:"Slime",img:"slime.png"},fish:{name:"Fish",img:"fish.png"},tv:{name:"Tv",img:"tv.png"}},K=function t(e){var a=e.name,n=e.health,r=e.attack,s=e.type;Object(d["a"])(this,t),this.name=a,this.health={max:n,current:n},this.type=F({keyName:s},J[s]),this.attack=r},G=K,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"buttons-container"},[a("Button",{attrs:{label:"Ataque"},on:{click:t.onAttack}}),a("Button",{attrs:{label:"Curación"},on:{click:t.onHeal}}),a("Button",{attrs:{label:"Acción especial"},on:{click:t.onSpecialAction}})],1)},U=[],z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"content"},[a("button",{staticClass:"button arcade-button",on:{click:t.onClick}}),a("label",{staticClass:"button-label"},[t._v(t._s(t.label))])])])},Q=[],V={name:"Button",props:["label"],methods:{onClick:function(){this.$emit("click")}}},X=V,Y=(a("e342"),Object(m["a"])(X,z,Q,!1,null,"e1fe3b66",null)),Z=Y.exports,tt={name:"ButtonsPanel",methods:{onAttack:function(){this.$emit("attack")},onHeal:function(){this.$emit("heal")},onSpecialAction:function(){this.$emit("special")}},components:{Button:Z}},et=tt,at=(a("9f4d"),Object(m["a"])(et,L,U,!1,null,"a83e1d54",null)),nt=at.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("img",{class:[t.monsterClass],attrs:{alt:"boss",src:t.publicPath+"/"+t.monsterImage}})},st=[],ct={props:["instance"],data:function(){return{publicPath:"/<vuejs-socket-boss-smack>/assets/characters"}},computed:{monsterClass:function(){return this.instance.type.keyName},monsterImage:function(){return this.instance.type.img}},components:{}},it=ct,lt=(a("7270"),Object(m["a"])(it,rt,st,!1,null,"1577a567",null)),ot=lt.exports,ut=[new k({name:"Elf",type:"ranger",health:175,mana:100,attack:40}),new k({name:"Knight",type:"knight",health:200,mana:100,attack:30}),new k({name:"Old Mage",type:"mage",health:150,mana:100,attack:60})],ht=[new G({name:"Wisp",health:200,attack:45,type:"wisp"}),new G({name:"Badass Slime",health:525,attack:25,type:"slime"}),new G({name:"Fishlett",health:700,attack:20,type:"fish"}),new G({name:"The hand",health:999,attack:20,type:"tv"})],mt={name:"Combat",data:function(){return{players:ut,monsters:ht,currentMonster:0,currentPlayer:0,lastAction:"",lastMonsterAction:""}},methods:{playerAttacks:function(){var t=this.calculateRng(this.getCurrentPlayer().attack/2,this.getCurrentPlayer().attack);this.lastAction="".concat(this.getCurrentPlayer().name," dealt ").concat(t," damage to ").concat(this.getCurrentMonster().name),this.getCurrentMonster().health.current-=t,this.regenMana(10),this.checkWin()||this.monsterAttack()},playerHeals:function(){var t=20;if(this.checkMana(t)){var e=Math.round(.15*this.getCurrentPlayer().health.max),a=Math.round(.15*this.getCurrentPlayer().health.max+this.getCurrentPlayer().attack/2),n=this.calculateRng(e,a);if(this.getCurrentPlayer().mana.current-=t,this.getCurrentPlayer().health.current+n>this.getCurrentPlayer().health.max){this.getCurrentPlayer().health.current=this.getCurrentPlayer().health.max;var r=n-(this.getCurrentPlayer().health.current-this.getCurrentPlayer().health.max);this.lastAction="".concat(this.getCurrentPlayer().name," heals ").concat(r," hp")}else this.getCurrentPlayer().health.current+=n,this.lastAction="".concat(this.getCurrentPlayer().name," heals ").concat(n," hp");this.monsterAttack()}},playerDoSomethingSpecial:function(){var t=40;if(this.checkMana(t)){this.getCurrentPlayer().mana.current-=t;var e=this.calculateRng(this.getCurrentPlayer().attack,1.5*this.getCurrentPlayer().attack);this.lastAction="".concat(this.getCurrentPlayer().name," dealt ").concat(e," damage to ").concat(this.getCurrentMonster().name),this.getCurrentMonster().health.current-=e,this.checkWin()||this.monsterAttack()}},isSelected:function(t){return t===this.currentPlayer},getCurrentPlayer:function(){return this.players[this.currentPlayer]},getCurrentMonster:function(){return this.monsters[this.currentMonster]},nextTurn:function(){this.checkWin(),this.currentPlayer=++this.currentPlayer%3,this.checkAliveParty()||this.checkAliveStatus()||this.nextTurn()},nextMonster:function(){this.currentMonster=++this.currentMonster,this.lastAction="",this.lastMonsterAction="",this.currentMonster>this.monsters.length&&window.location.reload();for(var t=0;t<ut.length;t++)ut[t].health.current=ut[t].health.max,ut[t].mana.current=ut[t].mana.max},monsterAttack:function(){var t=this.calculateRng(this.getCurrentMonster().attack,2*this.getCurrentMonster().attack),e=this.calculateRng(0,ut.length);!this.checkAliveParty()&&this.players[e-1].health.current>0?(this.players[e-1].health.current-=t,this.lastMonsterAction="".concat(this.getCurrentMonster().name," dealt ").concat(t," damage to ").concat(this.players[e-1].name),this.players[e-1].health.current<0&&(this.players[e-1].health.current=0)):this.checkAliveParty()||this.monsterAttack(),this.nextTurn()},calculateRng:function(t,e){return Math.max(Math.floor(Math.random()*e)+1,t)},checkAliveStatus:function(){return this.getCurrentPlayer().health.current>0},checkAliveParty:function(){for(var t=ut.length,e=0;e<ut.length;e++)ut[e].health.current<1&&t--;return t<=0},checkWin:function(){return this.getCurrentMonster().health.current<=0?(this.nextMonster(),!0):!!this.checkAliveParty()&&(window.location.reload(),!0)},checkMana:function(t){return!(this.getCurrentPlayer().mana.current<t)||(this.lastAction="".concat(this.getCurrentPlayer().name," doesn't have enough Mana"),this.lastMonsterAction="",!1)},regenMana:function(t){this.getCurrentPlayer().mana.current+=t,this.getCurrentPlayer().mana.current>this.getCurrentPlayer().mana.max&&(this.getCurrentPlayer().mana.current=this.getCurrentPlayer().mana.max)}},components:{Hero:f,Boss:ot,StatusBar:W,ButtonsPanel:nt}},pt=mt,ft=(a("b932"),Object(m["a"])(pt,w,x,!1,null,"2a5c9639",null)),gt=ft.exports,dt={name:"app",components:{CharactersSelection:_,Combat:gt}},yt=dt,bt=(a("034f"),Object(m["a"])(yt,r,s,!1,null,null,null)),vt=bt.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(vt)}}).$mount("#app")},"64a9":function(t,e,a){},"67cc":function(t,e,a){},7065:function(t,e,a){},7270:function(t,e,a){"use strict";var n=a("98bb"),r=a.n(n);r.a},"75b6":function(t,e,a){"use strict";var n=a("b2c9"),r=a.n(n);r.a},"8af7":function(t,e,a){"use strict";var n=a("67cc"),r=a.n(n);r.a},"8e82":function(t,e,a){"use strict";var n=a("079c"),r=a.n(n);r.a},"98bb":function(t,e,a){},"9f4d":function(t,e,a){"use strict";var n=a("7065"),r=a.n(n);r.a},a7cc:function(t,e,a){},aceb:function(t,e,a){},b2c9:function(t,e,a){},b932:function(t,e,a){"use strict";var n=a("c556"),r=a.n(n);r.a},c556:function(t,e,a){},e342:function(t,e,a){"use strict";var n=a("aceb"),r=a.n(n);r.a},f11d:function(t,e,a){"use strict";var n=a("a7cc"),r=a.n(n);r.a}});
//# sourceMappingURL=app.12db7a69.js.map