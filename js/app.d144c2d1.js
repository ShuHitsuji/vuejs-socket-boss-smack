(function(t){function e(e){for(var s,i,c=e[0],o=e[1],l=e[2],h=0,m=[];h<c.length;h++)i=c[h],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&m.push(n[i][0]),n[i]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,c=1;c<a.length;c++){var o=a[c];0!==n[o]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},n={app:0},r=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/vuejs-socket-boss-smack/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("64a9"),n=a.n(s);n.a},"0603":function(t,e,a){},2248:function(t,e,a){"use strict";var s=a("e4d5"),n=a.n(s);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)},r=[],i={name:"app"},c=i,o=(a("034f"),a("2877")),l=Object(o["a"])(c,n,r,!1,null,null,null),u=l.exports,h=a("8c4f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen"},[t._m(0),a("section",{staticClass:"combat-section"},[a("div",{staticClass:"heroes-area"},[a("div",{staticClass:"column left"},[a("div",{staticClass:"character"},[a("Hero",{attrs:{instance:t.heroes[0],selected:t.isSelected(0)}})],1)]),a("div",{staticClass:"column right"},[a("div",{staticClass:"character"},[t.heroes.length>=2?a("Hero",{attrs:{instance:t.heroes[1],selected:t.isSelected(1)}}):t._e()],1),a("div",{staticClass:"character"},[t.heroes.length>=3?a("Hero",{attrs:{instance:t.heroes[2],selected:t.isSelected(2)}}):t._e()],1)])]),a("div",{staticClass:"monster-area"},[a("div",{staticClass:"monster"},[a("Boss",{attrs:{instance:t.monsters[t.currentMonster],selected:t.isMonsterTurn}})],1)])]),a("footer",{staticClass:"footer"},[a("aside",{staticClass:"actions-area"},[a("ButtonsPanel",{style:{opacity:t.isMonsterTurn?.35:1},attrs:{disabled:t.isMonsterTurn},on:{attack:t.playerAttacks,heal:t.playerHeals,special:t.playerDoSomethingSpecial}})],1),a("main",{staticClass:"status-area"},[t._l(t.heroes,(function(t,e){return a("StatusBar",{key:e,attrs:{label:t.name,status:{health:t.health,mana:t.mana},colors:{health:"#8cdc07",mana:"#5a5adc"}}})})),a("StatusBar",{attrs:{label:t.monsters[t.currentMonster].name,status:{health:t.monsters[t.currentMonster].health},colors:{health:"red"}}})],2),a("div",{staticClass:"bard-area"},[a("p",[t._v(t._s(t.lastAction))])])])])},d=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"header"},[a("h1",{staticClass:"title"},[t._v("Boss Smack")])])}],f=(a("ac4d"),a("8a81"),a("ac6a"),a("7f7f"),a("20d6"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"character-column"},[a("label",{staticClass:"character"},[t._v(t._s(t.label))])]),a("div",{staticClass:"bars-column"},[a("Bar",{attrs:{color:t.colors.health,percentage:t.status.health.current/t.status.health.max*100}}),t.hasMana?a("Bar",{attrs:{color:t.colors.mana,percentage:t.getMana}}):t._e()],1),a("div",{staticClass:"status-column"},[a("label",{staticClass:"status"},[t._v(t._s(t.status.health.current)+"/"+t._s(t.status.health.max))])])])}),v=[],p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bar",style:{background:t.color,width:t.percentage+"%"}})},b=[],g={name:"Bar",props:["percentage","color"]},y=g,k=(a("8af7"),Object(o["a"])(y,p,b,!1,null,"12d23621",null)),j=k.exports,C={name:"StatusBar",props:["label","status","colors"],components:{Bar:j},computed:{hasMana:function(){return"undefined"!==typeof this.status.mana},getMana:function(){return this.status.mana?this.status.mana.current/this.status.mana.max*100:null}}},O=C,S=(a("f11d"),Object(o["a"])(O,f,v,!1,null,"ee9958ae",null)),_=S.exports,M=a("d225"),x=a("b0b4"),w=a("308d"),A=a("6bb5"),D=a("013f"),P=a("4e2b"),T=a("bd86");function H(t,e){return Math.floor(Math.random()*(e-t+1))+t}var B=function(){function t(e){var a=e.name,s=e.type,n=e.health,r=e.attack,i=e.mana;Object(M["a"])(this,t),Object(T["a"])(this,"status","idle"),Object(T["a"])(this,"img",{}),Object(T["a"])(this,"description",""),this.name=a,this.keyName=s,this.type=s,this.health={max:n,current:n},this.mana={max:i,current:i},this.attack=r}return Object(x["a"])(t,[{key:"isAlive",value:function(){return this.health.current>0}},{key:"setStatus",value:function(t){this.status=t}},{key:"receiveDamage",value:function(t){return this.health.current-=t,this.isAlive()||(this.health.current=0,this.setStatus("death")),t}},{key:"attackMonster",value:function(t){var e=this;this.setStatus("attack"),setTimeout((function(){e.setStatus("idle")}),500);var a=H(this.attack/2,this.attack),s=t.receiveDamage(a);return this.regenerateMana(),s}},{key:"heal",value:function(t){var e=this,a=20,s=0;this.setStatus("heal"),setTimeout((function(){e.setStatus("idle")}),800),this.mana.current-=a;var n=Math.round(.1*this.health.max+this.attack/4),r=Math.round(.25*this.health.max+this.attack/4),i=H(n,r);return this.health.current+i>this.health.max?(this.health.current=this.health.max,s=i-(this.health.current-this.health.max)):(this.health.current+=i,s=i),s+" hp"}},{key:"doSomethingSpecialToMonster",value:function(t){var e=this,a=40;this.setStatus("special"),setTimeout((function(){e.setStatus("idle")}),800),this.mana.current-=a;var s=H(this.attack,1.5*this.attack),n=t.receiveDamage(s);return n}},{key:"regenerateMana",value:function(){this.mana.current+=10,this.mana.current>this.mana.max&&(this.mana.current=this.mana.max)}},{key:"getImage",value:function(){return this.img[this.status]}},{key:"reset",value:function(){this.setStatus("idle"),this.health.current=this.health.max,this.mana.current=this.mana.max}},{key:"getDescription",value:function(){var t=this.description;return t+="<br /><br />",t+="<b>Salud</b>: ".concat(this.health.max," <br />"),t+="<b>Ataque</b>: ".concat(this.attack," <br />"),t+="<b>Mana</b>: ".concat(this.mana.max," <br />"),t}}]),t}(),$=B,E=function(t){function e(t){var a,s=t.name,n=t.type;return Object(M["a"])(this,e),a=Object(w["a"])(this,Object(A["a"])(e).call(this,{name:s,type:n,health:125,attack:65,mana:120})),Object(T["a"])(Object(D["a"])(a),"img",{idle:"ranger.png",heal:"ranger-heal.png",attack:"ranger-attack.png",special:"ranger-special.png",death:"ranger-death.png"}),Object(T["a"])(Object(D["a"])(a),"name","Ranger"),Object(T["a"])(Object(D["a"])(a),"description","Elfa guardabosques de los bosques de Jaspe. Armada con un arco bendecido por la diosa Elune misma, el refulgiente acero élfico de sus flechas es lo último que ven (y sienten) aquellos que osan desafiarla. De armadura ligera, los elfos consideran el metal como una debilidad de la cual disponer, prefiriendo emplear su agilidad preternatural para esquivar los golpes de sus adversarios. Un héroe con gran evasión y gran daño sostenido en el tiempo."),a}return Object(P["a"])(e,t),Object(x["a"])(e,[{key:"receiveDamage",value:function(t){var e=H(0,10);return e>4?this.health.current-=t:t=0,this.isAlive()||(this.setStatus("death"),this.health.current=0),t}}]),e}($),q=E,I=function(t){function e(t){var a,s=t.name,n=t.type;return Object(M["a"])(this,e),a=Object(w["a"])(this,Object(A["a"])(e).call(this,{name:s,type:n,health:250,attack:45,mana:100})),Object(T["a"])(Object(D["a"])(a),"img",{idle:"knight.png",heal:"knight-heal.png",attack:"knight-attack.png",special:"knight-special.png",death:"knight-death.png"}),Object(T["a"])(Object(D["a"])(a),"name","Knight"),Object(T["a"])(Object(D["a"])(a),"description","Caballero errante oriundo de las tierras de Astora. Protegido por una armadura de diamantina reforjada, espada de veraplata, y un escudo de oricalco pulido. Su identidad permanece un misterio, pero sus habilidades en combate son formidables. Un héroe duradero, ideal para las líneas delanteras de cualquier pandilla de aventureros que se consideren a sí mismos serios (y precavidos)."),a}return Object(P["a"])(e,t),Object(x["a"])(e,[{key:"receiveDamage",value:function(t){var e=H(0,10),a=t;return e>4?this.health.current-=Math.floor(a):(a=Math.floor(t/2),this.health.current-=a),this.isAlive()||(this.setStatus("death"),this.health.current=0),a}}]),e}($),R=I,V=function(t){function e(t){var a,s=t.name,n=t.type;return Object(M["a"])(this,e),a=Object(w["a"])(this,Object(A["a"])(e).call(this,{name:s,type:n,health:150,attack:80,mana:150})),Object(T["a"])(Object(D["a"])(a),"img",{idle:"mage.png",heal:"mage-heal.png",attack:"mage-attack.png",special:"mage-special.png",death:"mage-death.png"}),Object(T["a"])(Object(D["a"])(a),"name","Mage"),Object(T["a"])(Object(D["a"])(a),"description","Hechicero acólito proveniente del Pantano Meridional. De vestiduras y carácter modesto y discreto, este jóven prodigio dominó las artes de la piromancia a la temprana edad de 10. Adepto y experto en las antiguas artes arcanas, el poder de sus hechizos es capaz de hacerle frente a cualquier acero o metal (y cualquier contendiente/s que lo inhabite/n) que ose cruzársele. Héroe frágil pero con un asombroso poder destructivo, ideal para ofrecer soporte a distancia y controlar el campo de batalla si se lo protege."),a}return Object(P["a"])(e,t),Object(x["a"])(e,[{key:"heal",value:function(t){var e=20,a="the whole team",s=Math.round(.1*this.health.max+this.attack/4),n=Math.round(.25*this.health.max+this.attack/4),r=H(s,n);this.mana.current-=e;var i=!0,c=!1,o=void 0;try{for(var l,u=function(){var t=l.value;t.setStatus("heal"),setTimeout((function(){t.setStatus("idle")}),800),t.health.current>0?t.health.current+r>t.health.max?t.health.current=t.health.max:t.health.current+=r:t.health.current=1},h=t[Symbol.iterator]();!(i=(l=h.next()).done);i=!0)u()}catch(m){c=!0,o=m}finally{try{i||null==h.return||h.return()}finally{if(c)throw o}}return a}}]),e}($),G=V,W={ranger:q,knight:R,mage:G};function z(t){var e=t.name,a=t.type;return new W[a]({name:e,type:a})}var J=function(){function t(e){var a=e.name,s=e.health,n=e.attack,r=e.type;Object(M["a"])(this,t),Object(T["a"])(this,"status","idle"),Object(T["a"])(this,"img",{}),this.name=a,this.health={max:s,current:s},this.type=r,this.attack=n}return Object(x["a"])(t,[{key:"setStatus",value:function(t){"death"===t&&(this.health.current=0),this.status=t}},{key:"isAlive",value:function(){return"death"!==this.status&&this.health.current>0}},{key:"getImage",value:function(){return this.img[this.status]}},{key:"reset",value:function(){this.setStatus("idle"),this.health.current=this.health.max}},{key:"receiveDamage",value:function(t){var e=Math.floor(t);return this.health.current-=e,this.isAlive()||(this.setStatus("death"),this.health.current=0),e}},{key:"attackRandomHero",value:function(t){var e=this;this.setStatus("attack"),setTimeout((function(){e.isAlive()?e.setStatus("idle"):e.setStatus("death")}),800);var a=this.chooseRandomVictim(t),s=H(this.attack,2*this.attack),n=a.receiveDamage(s);return{monsterDamage:s,target:a,dealedDamage:n}}},{key:"chooseRandomVictim",value:function(t){var e=0,a=t.length-1,s=H(e,a);return t[s].isAlive()?t[s]:this.chooseRandomVictim(t)}}]),t}(),N=J,F=function(t){function e(){var t;return Object(M["a"])(this,e),t=Object(w["a"])(this,Object(A["a"])(e).call(this,{name:"Wisp",health:175,attack:45,type:"wisp"})),Object(T["a"])(Object(D["a"])(t),"img",{idle:"wisp.png",attack:"wisp-attack.png",death:"wisp-death.png"}),Object(T["a"])(Object(D["a"])(t),"name","Wisp"),t}return Object(P["a"])(e,t),Object(x["a"])(e,[{key:"receiveDamage",value:function(t){var e=H(0,10);return e>7?this.health.current-=Math.floor(t):t=0,this.isAlive()||(this.setStatus("death"),this.health.current=0),Math.floor(t)}}]),e}(N),K=F,U=function(t){function e(){var t;return Object(M["a"])(this,e),t=Object(w["a"])(this,Object(A["a"])(e).call(this,{name:"Badass Slime",health:525,attack:35,type:"slime"})),Object(T["a"])(Object(D["a"])(t),"img",{idle:"slime.png",attack:"slime-attack.png",death:"slime-death.png"}),Object(T["a"])(Object(D["a"])(t),"name","Slime"),t}return Object(P["a"])(e,t),Object(x["a"])(e,[{key:"attackRandomHero",value:function(t){var e=this;this.setStatus("attack"),setTimeout((function(){e.isAlive()?e.setStatus("idle"):e.setStatus("death")}),800);var a=this.chooseRandomVictim(t),s=H(this.attack,2*this.attack),n=a.receiveDamage(s),r=H(0,10);return r>5&&(this.health.current+=n,this.health.current>this.health.max&&(this.health.current=this.health.max)),{monsterDamage:s,target:a,dealedDamage:n}}}]),e}(N),L=U,Q=function(t){function e(){var t;return Object(M["a"])(this,e),t=Object(w["a"])(this,Object(A["a"])(e).call(this,{name:"Fishlett",health:700,attack:30,type:"fish"})),Object(T["a"])(Object(D["a"])(t),"img",{idle:"fish.png",attack:"fish-attack.png",death:"fish-death.png"}),Object(T["a"])(Object(D["a"])(t),"name","Fishlett"),t}return Object(P["a"])(e,t),Object(x["a"])(e,[{key:"attackRandomHero",value:function(t){var e=this;this.setStatus("attack"),setTimeout((function(){e.isAlive()?e.setStatus("idle"):e.setStatus("death")}),800);var a="",s="",n="",r=H(0,10);if(r>6){var i=!0,c=!1,o=void 0;try{for(var l,u=t[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var h=l.value;a=H(this.attack,2*this.attack),h.receiveDamage(a)}}catch(m){c=!0,o=m}finally{try{i||null==u.return||u.return()}finally{if(c)throw o}}a="all hero",s="",n="all hero"}else s=this.chooseRandomVictim(t),a=H(this.attack,2*this.attack),n=s.receiveDamage(a);return{monsterDamage:a,target:s,dealedDamage:n}}}]),e}(N),X=Q,Y=function(t){function e(){var t;return Object(M["a"])(this,e),t=Object(w["a"])(this,Object(A["a"])(e).call(this,{name:"The hand",health:999,attack:45,type:"tv"})),Object(T["a"])(Object(D["a"])(t),"img",{idle:"tv.png",attack:"tv-attack.png",death:"tv-death.png"}),Object(T["a"])(Object(D["a"])(t),"name","Tv"),t}return Object(P["a"])(e,t),e}(N),Z=Y,tt=function(t){function e(){var t;return Object(M["a"])(this,e),t=Object(w["a"])(this,Object(A["a"])(e).call(this,{name:"Wall-y",health:777,attack:1,type:"wall"})),Object(T["a"])(Object(D["a"])(t),"img",{idle:"wall.png",attack:"wall-attack.png",death:"wall-death.png"}),Object(T["a"])(Object(D["a"])(t),"name","Wall"),t}return Object(P["a"])(e,t),Object(x["a"])(e,[{key:"receiveDamage",value:function(t){var e=H(0,10);return e<8&&(t=1),this.health.current-=Math.floor(t),this.isAlive()||(this.setStatus("death"),this.health.current=0),Math.floor(t)}},{key:"attackRandomHero",value:function(t){var e=this;this.setStatus("attack"),setTimeout((function(){e.isAlive()?e.setStatus("idle"):e.setStatus("death")}),800);var a=this.chooseRandomVictim(t),s=H(1,100),n=s>10?H(1,10):a.health.current,r=a.receiveDamage(n);return{monsterDamage:n,target:a,dealedDamage:r}}}]),e}(N),et=tt,at={wisp:K,wall:et,slime:L,fish:X,tv:Z};function st(t){var e=t.type;return new at[e]}var nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"buttons-container"},[a("Button",{attrs:{label:"Ataque",disabled:t.disabled},on:{click:t.onAttack}}),a("Button",{attrs:{label:"Curación",disabled:t.disabled},on:{click:t.onHeal}}),a("Button",{attrs:{label:"Acción especial",disabled:t.disabled},on:{click:t.onSpecialAction}})],1)},rt=[],it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"content"},[a("button",{staticClass:"button arcade-button",attrs:{disabled:t.disabled},on:{click:t.onClick}}),a("label",{staticClass:"button-label"},[t._v(t._s(t.label))])])])},ct=[],ot={name:"Button",props:["label","disabled"],methods:{onClick:function(){this.$emit("click")}}},lt=ot,ut=(a("e2fa"),Object(o["a"])(lt,it,ct,!1,null,"ce17cb80",null)),ht=ut.exports,mt={name:"ButtonsPanel",props:["disabled"],methods:{onAttack:function(){this.$emit("attack")},onHeal:function(){this.$emit("heal")},onSpecialAction:function(){this.$emit("special")}},components:{Button:ht}},dt=mt,ft=(a("9132"),Object(o["a"])(dt,nt,rt,!1,null,"98220b62",null)),vt=ft.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container unselectable",attrs:{draggable:"false"}},[a("div",{class:{arrow:t.selected}}),a("img",{class:[t.heroClass],attrs:{alt:"character",src:t.publicPath+"/"+t.heroImage,draggable:"false"}})])},bt=[],gt={props:["instance","selected"],data:function(){return{publicPath:"/vuejs-socket-boss-smack/assets/characters"}},computed:{heroClass:function(){return this.instance.type},heroImage:function(){return this.instance.getImage()}},components:{}},yt=gt,kt=(a("2248"),Object(o["a"])(yt,pt,bt,!1,null,"50b3e39f",null)),jt=kt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container unselectable"},[a("div",{class:{arrow:t.selected}}),a("img",{class:[t.monsterClass],attrs:{alt:"boss",src:t.publicPath+"/"+t.monsterImage}})])},Ot=[],St={props:["instance","selected"],data:function(){return{publicPath:"/vuejs-socket-boss-smack/assets/characters"}},computed:{monsterClass:function(){return this.instance.type},monsterImage:function(){return this.instance.getImage()}},components:{}},_t=St,Mt=(a("759a"),Object(o["a"])(_t,Ct,Ot,!1,null,"4af559fc",null)),xt=Mt.exports,wt=[st({type:"wisp"}),st({type:"slime"}),st({type:"fish"}),st({type:"wall"}),st({type:"tv"})],At=[z({name:"Elf",type:"ranger"}),z({name:"Knight",type:"knight"}),z({name:"Mage",type:"mage"})],Dt={name:"Combat",data:function(){return{heroes:[],monsters:wt,currentMonster:0,currentPlayer:0,isMonsterTurn:!1,lastAction:""}},created:function(){var t=this.$route.params,e=t.heroes,a=t.monster;e?(this.heroes=e,this.resetScene(),this.resetHeroes(),a&&(this.currentMonster=wt.findIndex((function(t){var e=t.name;return e===a.name})))):this.heroes=At},methods:{playerAttacks:function(){var t=this.getCurrentPlayer(),e=this.getCurrentMonster(),a=t.attackMonster(e);this.lastAction=0==a?"".concat(e.name," dodge the ").concat(t.name," attack"):"".concat(t.name," dealt ").concat(a," damage to ").concat(e.name),this.isGameOver()||this.monsterAttacks()},playerHeals:function(){var t=20;if(this.checkMana(t)){var e=this.getCurrentPlayer(),a=e.heal(this.heroes);this.lastAction="".concat(e.name," heals ").concat(a),this.isGameOver()||this.monsterAttacks()}},playerDoSomethingSpecial:function(){var t=40;if(this.checkMana(t)){var e=this.getCurrentPlayer(),a=this.getCurrentMonster(),s=e.doSomethingSpecialToMonster(a);this.lastAction=0==s?"".concat(a.name," dodge the ").concat(e.name," attack"):"".concat(e.name," dealt ").concat(s," damage to ").concat(a.name),this.isGameOver()||this.monsterAttacks()}},isSelected:function(t){return!this.isMonsterTurn&&t===this.currentPlayer},getCurrentPlayer:function(){return this.heroes[this.currentPlayer]},getCurrentMonster:function(){return this.monsters[this.currentMonster]},nextTurn:function(){if(this.isGameOver())return!1;this.isCurrentPlayerAlive()&&this.getCurrentPlayer().setStatus("idle"),this.currentPlayer=++this.currentPlayer%this.heroes.length,this.isCurrentPlayerAlive()||this.nextTurn()},resetScene:function(){this.lastAction="",this.lastMonsterAction=""},resetHeroes:function(){var t=!0,e=!1,a=void 0;try{for(var s,n=this.heroes[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value;r.reset()}}catch(i){e=!0,a=i}finally{try{t||null==n.return||n.return()}finally{if(e)throw a}}},monsterAttacks:function(){var t=this;this.isMonsterTurn=!0;var e=this.getCurrentMonster();setTimeout((function(){if(!e.isAlive())return!1;var a=e.attackRandomHero(t.heroes),s=a.monsterDamage,n=a.target,r=a.dealedDamage;t.lastAction=0==r?"".concat(n.name," dodge the ").concat(e.name," attack"):"all hero"==s?"".concat(e.name," hurt the whole team"):s!==r?"".concat(n.name," blocked ").concat(e.name,"'s attack and received ").concat(r," damage"):"".concat(e.name," dealt ").concat(s," damage to ").concat(n.name),t.isMonsterTurn=!1,t.nextTurn()}),1500)},isCurrentPlayerAlive:function(){return this.getCurrentPlayer().isAlive()},isPartyAlive:function(){var t=0,e=!0,a=!1,s=void 0;try{for(var n,r=this.heroes[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var i=n.value;i.isAlive()&&t++}}catch(o){a=!0,s=o}finally{try{e||null==r.return||r.return()}finally{if(a)throw s}}var c=t>0;return c},isGameOver:function(){var t=!this.getCurrentMonster().isAlive(),e=!this.isPartyAlive();return t?(this.isMonsterTurn=!0,this.declareVictory(),!0):!!e&&(this.isMonsterTurn=!0,this.declareDefeat(),!0)},declareVictory:function(){var t=this,e=this.getCurrentMonster();e.setStatus("death");var a=this.currentMonster+1,s=a===this.monsters.length;setTimeout((function(){fe.push({name:s?"gameover":"victory",params:{heroes:t.heroes,monster:e,monsters:t.monsters,nextMonster:s?null:wt[a]}})}),1500)},declareDefeat:function(){var t=this,e=wt[this.currentMonster];setTimeout((function(){fe.push({name:"defeat",params:{heroes:t.heroes,monster:e,monsters:t.monsters}})}),1500)},checkMana:function(t){return!(this.getCurrentPlayer().mana.current<t)||(this.lastAction="".concat(this.getCurrentPlayer().name," doesn't have enough Mana"),this.lastMonsterAction="",!1)}},components:{Hero:jt,Boss:xt,StatusBar:_,ButtonsPanel:vt}},Pt=Dt,Tt=(a("eb9c"),Object(o["a"])(Pt,m,d,!1,null,"74302f03",null)),Ht=Tt.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen unselectable",attrs:{draggable:"false"}},[a("section",{staticClass:"characters-selection"},[a("h1",{staticClass:"title"},[t._v("Bienvenidos al combate")]),a("h2",{staticClass:"subtitle"},[t._v("Elijan sus personajes")]),a("div",{staticClass:"characters-container"},t._l(t.heroes,(function(e){return a("div",{key:e.type,staticClass:"character",on:{click:function(a){return t.showHeroDescription(e)}}},[a("drop",{on:{drop:function(a){t.handleDrop(a,e.type)}}},[a("div",{staticClass:"selectors"},t._l(t.droppables[e.type],(function(t){return a("div",{key:t,staticClass:"selector"})})),0),a("Hero",{attrs:{instance:e}})],1)],1)})),0),a("div",{staticClass:"selectors"},t._l(t.draggables,(function(t){return a("drag",{key:t,staticClass:"selector",attrs:{"transfer-data":t,"effect-allowed":["move"],"image-x-offset":-30,"image-y-offset":180}})})),1)]),a("footer",{staticClass:"footer"},[a("aside",{staticClass:"tutorial"},[a("button",{staticClass:"transparent-button",on:{click:function(e){return t.displayTutorial()}}},[a("i",[t._v("info")])])]),a("main",{staticClass:"description"},[a("div",{staticClass:"info",domProps:{innerHTML:t._s(t.info)}})]),a("nav",{staticClass:"start"},[a("button",{staticClass:"start-button",attrs:{disabled:t.hasStarted}},[a("i",{staticClass:"arrow left",on:{click:function(e){return t.startCombat()}}})])])])])},$t=[],Et=a("768b"),qt=(a("ffc1"),a("df76")),It={ranger:z({type:"ranger"}),knight:z({type:"knight"}),mage:z({type:"mage"})},Rt={name:"CharactersSelection",data:function(){var t="Para selección, arrastrar los puntos sobre los personajes.<br />";return t+="Click sobre un personaje para ver su descripción.",{hasStarted:!1,heroes:It,selectedHero:null,draggables:[1,2,3],droppables:{ranger:[],knight:[],mage:[]},tutorial:t,info:""}},created:function(){this.displayTutorial()},methods:{displayTutorial:function(){this.setCurrentInfo(this.tutorial,"Tutorial")},handleDrop:function(t,e){this.droppables[e].push(t),this.draggables=this.draggables.filter((function(e){return e!==t}));var a=this.heroes[e];this.showHeroDescription(a)},showHeroDescription:function(t){this.setCurrentInfo(t.getDescription(),"Descripción")},setCurrentInfo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e&&(e="<h3>".concat(e,"</h3>")),this.info=e+t},startCombat:function(){if(this.hasStarted)return!1;var t=[];if(Object.entries(this.droppables).forEach((function(e){var a=Object(Et["a"])(e,2),s=a[0],n=a[1];n.forEach((function(){t.push(s)}))})),0===t.length)this.setCurrentInfo("Selecciona al menos 1 personaje, arrastrando y soltando los puntos.","Olvidaste algo...");else{this.hasStarted=!0;var e=t.map((function(t){return z({type:t})}));fe.push({name:"combat",params:{heroes:e}})}}},components:{Hero:jt,Drag:qt["Drag"],Drop:qt["Drop"]}},Vt=Rt,Gt=(a("9c9a"),Object(o["a"])(Vt,Bt,$t,!1,null,"3f7b6828",null)),Wt=Gt.exports,zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen"},[t._m(0),a("div",{staticClass:"content"},[a("div",{staticClass:"victory"},[a("div",{staticClass:"monster"},[a("Boss",{attrs:{instance:t.monster}})],1),a("h1",{staticClass:"title"},[t._v("Victory!")])]),a("div",{staticClass:"characters-container"},t._l(t.heroes,(function(t,e){return a("div",{key:e,staticClass:"character"},[a("Hero",{attrs:{instance:t}})],1)})),0)]),a("footer",{staticClass:"footer"},[a("div",{staticClass:"footer-content"},[a("nav",{staticClass:"start"},[a("button",{staticClass:"start-button"},[a("i",{staticClass:"arrow left",on:{click:function(e){return t.nextCombat()}}})])])])])])},Jt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"header"},[a("h1",{staticClass:"title"},[t._v("Boss Smack")])])}],Nt=[z({type:"ranger"}),z({type:"knight"}),z({type:"mage"})],Ft=st({type:"wisp"}),Kt={name:"Victory",data:function(){return{publicPath:"/vuejs-socket-boss-smack/assets/"}},created:function(){var t=this.$route.params,e=t.heroes,a=t.monster,s=t.nextMonster;this.heroes=e||Nt,this.monster=a||Ft,this.nextMonster=s||null},methods:{nextCombat:function(){fe.push({name:"combat",params:{heroes:this.heroes,monster:this.nextMonster}})}},components:{Hero:jt,Boss:xt}},Ut=Kt,Lt=(a("b863"),Object(o["a"])(Ut,zt,Jt,!1,null,"4f30e076",null)),Qt=Lt.exports,Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen"},[t._m(0),a("div",{staticClass:"content"},[a("div",{staticClass:"defeat"},[a("img",{staticClass:"image",attrs:{alt:"defeat",src:t.publicPath+"/screens/lose-screen.png"}}),a("h1",{staticClass:"title"},[t._v("Derrota")])]),a("nav",{staticClass:"actions"},[a("button",{staticClass:"button retry-button",on:{click:function(e){return t.retry()}}},[a("i",[t._v("Reintentar")])]),a("button",{staticClass:"button restart-button",on:{click:function(e){return t.newGame()}}},[a("i",{staticClass:"left"},[t._v("Nuevo juego")])])])]),a("footer",{staticClass:"footer"})])},Yt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"header"},[a("h1",{staticClass:"title"},[t._v("Boss Smack")])])}],Zt=[z({type:"ranger"}),z({type:"knight"}),z({type:"mage"})],te=st({type:"wisp"}),ee={name:"Defeat",data:function(){return{publicPath:"/vuejs-socket-boss-smack/assets/"}},created:function(){var t=this.$route.params,e=t.heroes,a=t.monster,s=t.monsters;this.heroes=e||Zt,this.monster=a||te,this.monsters=s},methods:{newGame:function(){this.resetMonsters(),fe.push({name:"characters-selection"})},retry:function(){this.monster.reset(),fe.push({name:"combat",params:{heroes:this.heroes,monster:this.monster}})},resetMonsters:function(){var t=!0,e=!1,a=void 0;try{for(var s,n=this.monsters[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value;r.reset()}}catch(i){e=!0,a=i}finally{try{t||null==n.return||n.return()}finally{if(e)throw a}}}}},ae=ee,se=(a("5bc6"),Object(o["a"])(ae,Xt,Yt,!1,null,"4d29d6e0",null)),ne=se.exports,re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen"},[t._m(0),a("div",{staticClass:"content"},[a("div",{staticClass:"gameover"},[a("div",[a("img",{staticClass:"image",attrs:{alt:"gameover",src:t.publicPath+"/screens/victory-screen.png"}})]),a("h1",{staticClass:"title"},[t._v("Victory!")])]),a("div",{staticClass:"characters-container"},t._l(t.heroes,(function(t,e){return a("div",{key:e,staticClass:"character"},[a("Hero",{attrs:{instance:t}})],1)})),0)]),a("footer",{staticClass:"footer"},[a("div",{staticClass:"footer-content"},[a("nav",{staticClass:"start"},[a("button",{staticClass:"button restart-button",on:{click:function(e){return t.newGame()}}},[a("i",{staticClass:"left"},[t._v("Nuevo juego")])])])])])])},ie=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"header"},[a("h1",{staticClass:"title"},[t._v("Boss Smack")])])}],ce=[z({type:"ranger"}),z({type:"knight"}),z({type:"mage"})],oe=st({type:"wisp"}),le={name:"GameOver",data:function(){return{publicPath:"/vuejs-socket-boss-smack/assets/"}},created:function(){var t=this.$route.params,e=t.heroes,a=t.monster,s=t.monsters;this.heroes=e||ce,this.monster=a||oe,this.monsters=s},methods:{newGame:function(){this.resetMonsters(),fe.push({name:"characters-selection"})},resetMonsters:function(){var t=!0,e=!1,a=void 0;try{for(var s,n=this.monsters[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value;r.reset()}}catch(i){e=!0,a=i}finally{try{t||null==n.return||n.return()}finally{if(e)throw a}}}},components:{Hero:jt}},ue=le,he=(a("6ea9"),Object(o["a"])(ue,re,ie,!1,null,"063f3cc8",null)),me=he.exports,de=[{path:"/characters-selection",name:"characters-selection",component:Wt},{path:"/combat",name:"combat",component:Ht},{path:"/victory",name:"victory",component:Qt},{path:"/defeat",name:"defeat",component:ne},{path:"/gameover",name:"gameover",component:me},{path:"/",component:Wt}],fe=new h["a"]({routes:de});s["a"].use(h["a"]),s["a"].config.productionTip=!1,new s["a"]({router:fe,render:function(t){return t(u)}}).$mount("#app")},"5bc6":function(t,e,a){"use strict";var s=a("fff8"),n=a.n(s);n.a},"62b9":function(t,e,a){},"64a9":function(t,e,a){},"67cc":function(t,e,a){},"6ea9":function(t,e,a){"use strict";var s=a("d51d"),n=a.n(s);n.a},"759a":function(t,e,a){"use strict";var s=a("0603"),n=a.n(s);n.a},"8af7":function(t,e,a){"use strict";var s=a("67cc"),n=a.n(s);n.a},9132:function(t,e,a){"use strict";var s=a("b2c8"),n=a.n(s);n.a},"9c9a":function(t,e,a){"use strict";var s=a("62b9"),n=a.n(s);n.a},a7cc:function(t,e,a){},aa77:function(t,e,a){},b2c8:function(t,e,a){},b863:function(t,e,a){"use strict";var s=a("f478"),n=a.n(s);n.a},d51d:function(t,e,a){},d9cf:function(t,e,a){},e2fa:function(t,e,a){"use strict";var s=a("d9cf"),n=a.n(s);n.a},e4d5:function(t,e,a){},eb9c:function(t,e,a){"use strict";var s=a("aa77"),n=a.n(s);n.a},f11d:function(t,e,a){"use strict";var s=a("a7cc"),n=a.n(s);n.a},f478:function(t,e,a){},fff8:function(t,e,a){}});
//# sourceMappingURL=app.d144c2d1.js.map